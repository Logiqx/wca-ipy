function debugMessage(c,b){var a="";a+="<h2>Houston, we have a problem</h2>";a+="<h3>Browser</h3><p>You need at least Chrome 1, Firefox 4, IE8, Safari 4 or Opera 10</p>";a+="<h3>Debug</h3><p>"+c+": "+b+"</p>";return a}function parameterMessage(c,b){var a="";a+="<h2>Hello, I'm Sorry...</h2>";a+="<p>Unrecognised "+c+" specified in the URL - "+b+"</p>";return a}function header(){var a="";if(getViewportWidth()<IPHONE_LANDSCAPE){a+="<p>Tip: Best viewed in landscape mode on mobile phones and some tablets.</p>"}return a}function footer(){var a="";return a}var COMMON_LANDSCAPE=1280;var COMMON_PORTRAIT=720;var IPAD_LANDSCAPE=1024;var IPAD_PORTRAIT=768;var GALAXY_S3_LANDSCAPE=640;var GALAXY_S3_PORTRAIT=360;var IPHONE_LANDSCAPE=480;var IPHONE_PORTRAIT=320;function getViewportWidth(){return document.documentElement.clientWidth}function getViewportHeight(){return document.documentElement.clientHeight}var eventIdx=null;var personIdx=null;var countryIdx=null;var competitionIdx=null;function getEventIdx(){if(eventIdx==null){eventIdx={};for(var a=0;a<rankings.events.length;a++){eventIdx[rankings.events[a].id]=a}}return eventIdx}function getPersonIdx(){if(personIdx==null){personIdx={};for(var a=0;a<rankings.persons.length;a++){personIdx[rankings.persons[a].id]=a}}return personIdx}function getCountryIdx(){if(countryIdx==null){countryIdx={};for(var a=0;a<rankings.countries.length;a++){countryIdx[rankings.countries[a].id]=a}}return countryIdx}function getCompetitionIdx(){if(competitionIdx==null){competitionIdx={};for(var a=0;a<rankings.competitions.length;a++){competitionIdx[rankings.competitions[a].id]=a}}return competitionIdx}function addEventHandler(d,b,c){var a="on"+b;if(b=="hashchange"&&!(a in d)){hashChangeFallback(d,c)}else{if(d.addEventListener){d.addEventListener(b,c,false)}else{if(d.attachEvent){d.attachEvent(a,c)}}}}function hashChangeFallback(b,a){b.onhashchange=a;(function(e){var c=e.location,d=c.href,f=c.hash;setInterval(function(){var h=c.href,g=c.hash;if(g!=f&&typeof e.onhashchange==="function"){e.onhashchange({type:"hashchange",oldURL:d,newURL:h});d=h;f=g}},100)})(window)}var lastHash="n/a";var lastWidth=getViewportWidth();function renderPage(e){try{var d=false;if(e!=lastHash){d=true}else{if(e=="random"){d=true}}var a=getViewportWidth();if(a!=lastWidth){d=true}if(d){var h=getEventIdx();var g=getPersonIdx();var f=e.substring(1).split("-");if(f[0].length==0||h.hasOwnProperty(f[0])){renderRankings(f,a)}else{if(f[0]=="random"||g.hasOwnProperty(f[0])){renderPerson(f,a)}else{var c=parameterMessage("event or person",f[0]);document.getElementById("container").innerHTML=c}}lastHash=e;lastWidth=a}}catch(b){var c=debugMessage("renderPage",b.message);document.getElementById("container").innerHTML=c}}function hashChangeHandler(){try{var c=window.location.hash;renderPage(c)}catch(b){var a=debugMessage("hashChangeHandler",b.message);document.getElementById("container").innerHTML=a}}function resizeHandler(){try{var c=lastHash;renderPage(c)}catch(b){var a=debugMessage("resizeHandler",b.message);document.getElementById("container").innerHTML=a}}function popStateHandler(d){try{if(d.state!=null){var c=d.state.hash;renderPage(c);setTimeout(function(){window.scrollTo(d.state.xOffset,d.state.yOffset)},1)}else{var c=window.location.hash;renderPage(c)}}catch(b){var a=debugMessage("popStateHandler",b.message);document.getElementById("container").innerHTML=a}}function polyfillIndexOf(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=d|0;if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}}}function loadHandler(){try{polyfillIndexOf();addEventHandler(window,"hashchange",hashChangeHandler);addEventHandler(window,"resize",resizeHandler);addEventHandler(window,"popstate",popStateHandler);hashChangeHandler()}catch(b){var a=debugMessage("loadHandler",b.message);document.getElementById("container").innerHTML=a}}function storeWindowOffset(){try{var c={hash:lastHash,xOffset:window.pageXOffset,yOffset:window.pageYOffset};var d=document.title;var a=window.location.href;history.replaceState(c,d,a)}catch(b){}}function switchView(){storeWindowOffset();var a=document.getElementById("eventId");var b=a.options[a.selectedIndex].value;var j=document.getElementById("resultType");var g=j.options[j.selectedIndex].value;var o=document.getElementById("ageCategory");var f=o.options[o.selectedIndex].value;var k=document.getElementById("continentId");var d=k.options[k.selectedIndex].value.toLowerCase();var m=document.getElementById("countryId");var n=m.options[m.selectedIndex].value.toLowerCase();var i="#";if(n!="xx"){i+=b+"-"+g+"-"+f+"-"+d+"-"+n}else{if(d!="xx"){i+=b+"-"+g+"-"+f+"-"+d}else{if(f>40){i+=b+"-"+g+"-"+f}else{if(g!="single"){i+=b+"-"+g}else{i+=b}}}}try{if(navigator.userAgent.indexOf("Chrome/5.0")>-1){throw"Chrome/5.0"}var p=getEventIdx();var h={hash:i,xOffset:window.pageXOffset,yOffset:window.pageYOffset};var l=rankings.events[p[b]]+" - "+selectElement.options[selectElement.selectedIndex].text;var c=i;history.pushState(h,l,c);renderPage(i)}catch(e){window.location.hash=i}}addEventHandler(window,"load",loadHandler);